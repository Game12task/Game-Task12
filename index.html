<div class="container">
    <h1>ูุฑูุฒ ุงูููุงู ููุณุจ ุงููุงู (ุงูุฏููุงุฑ)</h1>

    <div class="user-input">
        <label for="username-input">ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงุณู ุงููุณุชุฎุฏู ุงูุฎุงุต ุจู (ูุฑุฉ ูุงุญุฏุฉ ููุท):</label>
        <input type="text" id="username-input" placeholder="ูุซุงู: Ahmad123">
    </div>

    <!-- ุดุจูุฉ ุงูุจุทุงูุงุช -->
    <div id="cpa-cards" style="display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px;"></div>

    <div class="bitlabs-container">
        <div class="bitlabs-header">ุงุณุชุทูุงุนุงุช ุงูุฑุฃู ุงููุจุฑู (BitLabs) ๐ง</div>
        <div class="closed-section-message">
            ูุณู ุงูุงุณุชุทูุงุนุงุช ููุฏ ุงูุชุญุฏูุซ ูุงูุฅุนุฏุงุฏ ุญุงููุงู. ูุนุชุฐุฑ ููุฅุฒุนุงุฌ!
        </div>
        <button id="bitlabs-btn" onclick="openBitLabs()">ุงุจุฏุฃ ุงูุงุณุชุจูุงูุงุช</button>
    </div>
</div>

<script type='text/javascript' src='https://akamaicdn.org/js/offerwall.js'></script>
<script>
const tasks = [
    {title:"ูููุฉ 1", description:"ุฃููู ุงูุนุฑุถ ูุชุญุตู ุนูู ููุงูุฃุชู", offerID:"4q9Fm"},
    {title:"ูููุฉ 2", description:"ุณุฌู ูู ุงููููุน ูุงุญุตู ุนูู ููุงุท", offerID:"4q9Fm"},
    {title:"ูููุฉ 3", description:"ุฌุฑุจ ุงูุชุทุจูู ูุงุญุตู ุนูู ููุงูุฃุฉ", offerID:"4q9Fm"}
];

// ุงูุชุนุงูู ูุน ุงุณู ุงููุณุชุฎุฏู
let userID = localStorage.getItem('userID');
if(!userID){
    userID = prompt("ุฃุฏุฎู ุงุณู ุงููุณุชุฎุฏู ุงูุฎุงุต ุจู:");
    localStorage.setItem('userID', userID);
}
document.getElementById('username-input').value = userID;
document.getElementById('username-input').disabled = true;

// ุฅูุดุงุก ุงูุจุทุงูุงุช
const container = document.getElementById('cpa-cards');
tasks.forEach(task=>{
    const card = document.createElement('div');
    card.style.background="#2C2C2C";
    card.style.padding="15px";
    card.style.borderRadius="12px";
    card.style.boxShadow="0 4px 20px rgba(0,0,0,0.7)";
    card.innerHTML = `
        <h3 style="color:#FFD700;">${task.title}</h3>
        <p style="color:#E0E0E0;">${task.description}</p>
        <iframe id="iframe-${task.offerID}" style="width:100%; height:350px; border:none; border-radius:8px; margin-bottom:10px;"></iframe>
        <button style="background:#64ffda;color:#121212;border:none;border-radius:8px;padding:10px 20px;margin:5px;cursor:pointer;font-weight:bold;"
            onclick="loadOfferInIframe('${task.offerID}','${userID}')">ุชุญููู ุงูุนุฑุถ ุฏุงุฎู ุงูุจุทุงูุฉ</button>
        <button style="background:#64ffda;color:#121212;border:none;border-radius:8px;padding:10px 20px;margin:5px;cursor:pointer;font-weight:bold;"
            onclick="openOfferInNewWindow('${task.offerID}','${userID}')">ูุชุญ ุงูุนุฑุถ ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ</button>
    `;
    container.appendChild(card);
});

// ุฏูุงู ุงูุชุญููู ูุงููุชุญ
function loadOfferInIframe(offerID, userID){
    const iframe = document.getElementById('iframe-'+offerID);
    const url = `https://www.directcpi.com/list/${offerID}?subid=${userID}`;
    iframe.src = url;
}

function openOfferInNewWindow(offerID, userID){
    const url = `https://www.directcpi.com/list/${offerID}?subid=${userID}`;
    window.open(url,'_blank');
}

// BitLabs
function openBitLabs() {
    if (typeof BitLabs !== 'undefined') {
        BitLabs.open();
    } else {
        alert('ููุญุฉ ุงูุงุณุชุจูุงูุงุช ุบูุฑ ุฌุงูุฒุฉ ุจุนุฏุ ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู.');
    }
}
</script>
