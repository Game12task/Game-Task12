<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Game Task — عروض الاستبيانات</title>
<style>
/* -------------------------------------- */
/* الأنماط الأساسية (CSS) */
/* -------------------------------------- */
:root{
  --bg:#0b1220; --card:#071227; --accent:#06b6d4; --muted:#94a3b8; --gold:#d4af37;
}
*{box-sizing:border-box;font-family:"Segoe UI",Tahoma,"Noto Kufi Arabic",system-ui,sans-serif;}
body{margin:0;background:linear-gradient(180deg,#071127 0%, #071a2a 100%);color:#e6eef6;padding:20px;}
header{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin-bottom:18px;}
.brand{display:flex;align-items:center;gap:12px;}
.logo{width:54px;height:54px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#0891b2);display:flex;align-items:center;justify-content:center;font-weight:700;}
h1{margin:0;font-size:20px;}
p.lead{margin:0;color:var(--muted);font-size:13px;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px;margin-top:18px;}
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);display:flex;flex-direction:column;gap:10px;min-height:160px;transition:transform 0.2s,box-shadow 0.2s;cursor:pointer;}
.card:hover{transform:translateY(-4px);box-shadow:0 8px 20px rgba(0,0,0,0.4);}
.title{font-weight:700;font-size:16px;}
.desc{color:var(--muted);font-size:13px;}
.meta{display:flex;gap:8px;align-items:center;justify-content:flex-end;margin-top:auto;}
.btn{padding:10px 12px;border-radius:8px;border:0;cursor:pointer;font-weight:700;}
.open-btn{background:linear-gradient(90deg,var(--accent),#0891b2);color:#022;text-decoration:none;display:inline-block;text-align:center;width:100%;}
.gold-card{background:linear-gradient(180deg,rgba(212,175,55,0.2),rgba(212,175,55,0.1));border:1px solid rgba(212,175,55,0.6);}
.gold-card .title{color:var(--gold);}
.gold-card .counter{font-size:14px;color:var(--gold);font-weight:700;margin-bottom:10px;}
footer{margin-top:22px;color:var(--muted);font-size:13px;text-align:center;}
.section-title{font-size:18px;font-weight:700;margin-bottom:10px;color:var(--accent);}
.subgrid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:10px;}
.external-complete-btn {
    background-color: #4CAF50 !important; 
    color: #022 !important;
}
.survey-content {
    display: none;
    padding: 10px;
    border: 1px solid rgba(255,255,255,0.05);
    border-radius: 8px;
    margin-top: 10px;
}
.survey-card {
    cursor: pointer;
    background: linear-gradient(180deg, rgba(6,182,212,0.1), rgba(6,182,212,0.05));
    border-color: rgba(6,182,212,0.3);
}
.survey-progress {
    color: var(--gold);
    font-weight: 700;
    margin-bottom: 10px;
}
/* تنسيق خاص لبطاقة التضمين (لجعلها أكبر) */
.embed-card {
    /* تجعل البطاقة تأخذ مساحة أكبر في عرض subgrid */
    grid-column: span 2; 
    min-height: 450px !important;
    padding: 0; 
    overflow: hidden;
    cursor: default; /* تعطيل مؤشر النقر */
}
.embed-card iframe {
    width: 100%;
    height: 100%;
    border: none;
    border-radius: 12px;
}

input, textarea{width:100%;padding:8px;border-radius:6px;border:none;margin-bottom:10px;}
button.send-btn{background:var(--accent);color:#022;padding:10px;border-radius:8px;border:0;cursor:pointer;font-weight:700;width:100%;}
/* نافذة منبثقة */
#goldModal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.85);overflow:auto;padding:20px;z-index:1000;}
#goldContent{background:#071227;border-radius:12px;padding:20px;max-width:900px;margin:auto;position:relative;}
#closeModal{position:absolute;top:10px;right:10px;padding:5px 10px;cursor:pointer;border:none;background:#d4af37;color:#022;border-radius:6px;font-weight:700;}
</style>
</head>
<body>

<header>
  <div class="brand">
    <div class="logo">GT</div>
    <div>
      <h1>Game Task — عروض الاستبيانات</h1>
      <p class="lead">اختر العرض واضغط "اذهب" لفتح الموقع وسيتم تسجيل رابط الإحالة مباشرة.</p>
    </div>
  </div>
</header>

<div class="card gold-card" id="goldCard">
  <div class="title">عروض مميزة</div>
  <div class="counter" id="pointsCounter">النقاط: 0</div>
</div>

<div id="goldModal">
  <div id="goldContent">
    <button id="closeModal">×</button>
    <h2 style="color:#d4af37;">الاستبيانات</h2>
    <div id="surveysContainer">
      <div id="surveysGrid" class="subgrid"></div>
      <div id="singleSurveyView" class="survey-content"></div>
    </div>
    
    <h2 style="color:#d4af37; margin-top:20px;">المهام</h2>
    <div id="tasksGrid" class="subgrid"></div>
  </div>
</div>

<div style="margin-bottom:20px; text-align:center;">
  <p style="color:var(--muted);">إعلان Google</p>
</div>

<main>
  <div class="grid" id="cardsGrid">
    <div class="card">
      <div class="title">Freecash — استبيانات ومهام</div>
      <div class="desc">اكمل عروض واستبيانات واحصل على نقاط.</div>
      <div class="meta">
        <a class="btn open-btn" href="https://freecash.com/r/ST6JL" target="_blank" rel="noopener noreferrer">اذهب</a>
      </div>
    </div>
    <div class="card">
      <div class="title">PrizeRebel — استبيانات ومهام</div>
      <div class="desc">سجل وابدأ بالعروض؛ غالبًا تعطي نقاط جيدة.</div>
      <div class="meta">
        <a class="btn open-btn" href="https://www.prizerebel.com/index.php?r=16156361" target="_blank" rel="noopener noreferrer">اذهب</a>
      </div>
    </div>
    <div class="card">
      <div class="title">TimeBucks — مهام وسرعات</div>
      <div class="desc">مهام مختلفة: مشاهدة، تسجيل، أفكار سريعة.</div>
      <div class="meta">
        <a class="btn open-btn" href="https://timebucks.com/?refID=227024124" target="_blank" rel="noopener noreferrer">اذهب</a>
      </div>
    </div>
    <div class="card">
      <div class="title">GemsLoot — عروض وكسب</div>
      <div class="desc">عروض وربح عبر تحميل وتجربة — رابط إحالة.</div>
      <div class="meta">
        <a class="btn open-btn" href="https://gemsloot.com/?aff=" target="_blank" rel="noopener noreferrer">اذهب</a>
      </div>
    </div>
    <div class="card">
      <div class="title">Idle-Empire — مهام وألعاب</div>
      <div class="desc">من أشهر مواقع المهام والاستبيانات.</div>
      <div class="meta">
        <a class="btn open-btn" href="https://www.idle-empire.com?r=fofsqy" target="_blank" rel="noopener noreferrer">اذهب</a>
      </div>
    </div>
  </div>
</main>

<div style="margin-top:30px;">
  <h2 class="section-title">من نحن</h2>
  <p style="color:var(--muted);">Game Task هو موقع يقدم الاستبيانات والمهمات لجميع الزوار، مع نظام نقاط متكامل لمكافأة المستخدمين على نشاطهم. هدفنا هو تقديم محتوى متنوع وممتع يجمع بين التعلم والترفيه.</p>
</div>

<div style="margin-top:20px;">
  <h2 class="section-title">اتصل بنا</h2>
  <form id="contactForm">
    <input type="text" placeholder="الاسم" required>
    <input type="email" placeholder="البريد الإلكتروني" required>
    <textarea placeholder="رسالتك" rows="4" required></textarea>
    <button type="submit" class="send-btn">إرسال</button>
  </form>
</div>

<footer>
  ملاحظة: يمكنك إضافة كود Google AdSense في الأماكن المخصصة للإعلانات.
</footer>

<script>
  // تتبع حالة الاستبيان الحالي
  let currentSurveyIndex = 0;
  let currentQuestionIndex = 0;
  let points = 0;

  // بيانات الاستبيانات
  const surveys = [
    // الاستبيان الداخلي (يظهر سؤال واحد تلو الآخر)
    {
      title: 'استبيان داخلي (10 أسئلة)',
      questions: [
        { q: 'سؤال 1؟', options: ['أ', 'ب', 'ج'], answer: 'أ' },
        { q: 'سؤال 2؟', options: ['أ', 'ب', 'ج'], answer: 'ب' },
        { q: 'سؤال 3؟', options: ['أ', 'ب', 'ج'], answer: 'ج' },
        { q: 'سؤال 4؟', options: ['أ', 'ب', 'ج'], answer: 'أ' },
        { q: 'سؤال 5؟', options: ['أ', 'ب', 'ج'], answer: 'ب' },
        { q: 'سؤال 6؟', options: ['أ', 'ب', 'ج'], answer: 'ج' },
        { q: 'سؤال 7؟', options: ['أ', 'ب', 'ج'], answer: 'أ' },
        { q: 'سؤال 8؟', options: ['أ', 'ب', 'ج'], answer: 'ب' },
        { q: 'سؤال 9؟', options: ['أ', 'ب', 'ج'], answer: 'ج' },
        { q: 'سؤال 10؟', options: ['أ', 'ب', 'ج'], answer: 'أ' }
      ],
      type: 'internal',
      pointsPerQuestion: 1,
    },
    // الاستبيان الخارجي (المدمج - رابطك)
    {
      title: 'استبيان تقييم خارجي (مدمج)',
      // تم وضع رابط التضمين الصحيح لاستبيانك
      embedUrl: 'https://docs.google.com/forms/d/e/1FAIpQLSeCipNvVoBhIYFkrRFgKdm5fwi-ZF_xadGovqp10ap4Uu3YCg/viewform?embedded=true', 
      desc: 'أكمل النموذج أدناه مباشرة. النقاط ستضاف يدوياً أو بعد إكمال النموذج.',
      type: 'embedded',
      points: 5,
    }
  ];

  // بيانات المهام الجاهزة (تظهر كل الأسئلة معاً)
  const tasks = [];
  for (let i = 1; i <= 3; i++) {
    tasks.push({
      title: 'مهمة ' + i,
      questions: [
        { q: 'سؤال ' + i + '-1؟', options: ['أ', 'ب', 'ج'], answer: 'أ' },
        { q: 'سؤال ' + i + '-2؟', options: ['أ', 'ب', 'ج'], answer: 'ب' },
        { q: 'سؤال ' + i + '-3؟', options: ['أ', 'ب', 'ج'], answer: 'ج' }
      ]
    });
  }

  const goldCard = document.getElementById('goldCard');
  const goldModal = document.getElementById('goldModal');
  const closeModal = document.getElementById('closeModal');
  const surveysGrid = document.getElementById('surveysGrid');
  const singleSurveyView = document.getElementById('singleSurveyView');

  // دالة عرض قائمة الاستبيانات
  function renderSurveysList() {
    surveysGrid.style.display = 'grid'; 
    singleSurveyView.style.display = 'none'; 

    surveysGrid.innerHTML = '';
    surveys.forEach((s, i) => {
      const card = document.createElement('div');
      
      if (s.type === 'internal') {
        card.className = 'card survey-card';
        card.innerHTML = `<div class="title">${s.title}</div><div class="desc">${s.questions.length} أسئلة - ${s.pointsPerQuestion * s.questions.length} نقاط.</div>`;
        card.onclick = () => startSurvey(i);
      
      } else if (s.type === 'embedded') {
        // بطاقة التضمين (الاستبيان الخارجي المدمج)
        card.className = 'card embed-card';
        card.innerHTML = `
          <div style="padding: 14px; background: rgba(0,0,0,0.1); border-radius: 12px 12px 0 0;">
            <div class="title" style="color: var(--gold); margin-bottom: 5px;">${s.title} (${s.points} نقاط)</div>
            <div class="desc">${s.desc}</div>
          </div>
          <iframe src="${s.embedUrl}" style="height: calc(100% - 70px);"></iframe>
        `;
        card.onclick = null; 
      }
      surveysGrid.appendChild(card);
    });
  }

  // دالة بدء الاستبيان الداخلي
  function startSurvey(index) {
    currentSurveyIndex = index;
    currentQuestionIndex = 0;
    surveysGrid.style.display = 'none'; 
    singleSurveyView.style.display = 'block'; 
    renderSingleQuestion();
  }

  // دالة عرض سؤال واحد فقط
  function renderSingleQuestion() {
    const survey = surveys[currentSurveyIndex];
    const totalQuestions = survey.questions.length;
    const currentQ = survey.questions[currentQuestionIndex];

    if (currentQuestionIndex < totalQuestions) {
      let html = `
        <button class="btn" onclick="renderSurveysList()" style="width: auto; margin-bottom: 15px;">🔙 العودة لقائمة الاستبيانات</button>
        <div class="survey-progress">السؤال ${currentQuestionIndex + 1} من ${totalQuestions}</div>
        <div class="title" style="font-size: 18px; margin-bottom: 15px; color: var(--accent);">${currentQ.q}</div>
        <div class="options-container" id="optionsContainer">
      `;
      currentQ.options.forEach(option => {
        html += `<button class="btn open-btn" style="margin-bottom: 10px; background-color: #0891b2;" onclick="checkAnswer('${option}', '${currentQ.answer}', this)">${option}</button>`;
      });
      html += `</div>`;
      singleSurveyView.innerHTML = html;
    } else {
      // تم الانتهاء
      singleSurveyView.innerHTML = `
        <h3 style="color: var(--gold); margin-top: 50px;">🎉 تهانينا! لقد أكملت الاستبيان بنجاح.</h3>
        <p>تم احتساب النقاط المكتسبة.</p>
        <button class="btn external-complete-btn" onclick="renderSurveysList()" style="width: auto; margin-top: 20px;">العودة لقائمة الاستبيانات</button>
      `;
    }
  }

  // دالة فحص الإجابة والانتقال للسؤال التالي
  function checkAnswer(selected, correct, buttonElement) {
    const survey = surveys[currentSurveyIndex];
    document.querySelectorAll('#optionsContainer .btn').forEach(btn => btn.disabled = true);

    if (selected === correct) {
      points += survey.pointsPerQuestion;
      document.getElementById('pointsCounter').textContent = 'النقاط: ' + points;
      buttonElement.style.backgroundColor = 'green';
      alert(`إجابة صحيحة! تم إضافة ${survey.pointsPerQuestion} نقطة.`);
    } else {
      buttonElement.style.backgroundColor = 'red';
      alert('إجابة خاطئة. الإجابة الصحيحة كانت: ' + correct);
    }
    
    setTimeout(() => {
      currentQuestionIndex++;
      renderSingleQuestion();
    }, 1000); 
  }

  // دالة عرض المهام (التي تظهر كل شيء معاً)
  function renderTasks(){
    const tasksGrid = document.getElementById('tasksGrid');
    tasksGrid.innerHTML='';
    tasks.forEach((t,i)=>{
      const card=document.createElement('div');
      card.className='card';
      let html=`<div class="title">${t.title}</div>`;
      t.questions.forEach((q,j)=>{
        html+=`<div class="desc">${q.q}</div>`;
        q.options.forEach(o=>{
          html+=`<button class="btn" style="width: auto; margin: 2px;" onclick="alert('اخترت: ${o}')">${o}</button>`;
        });
      });
      card.innerHTML=html;
      tasksGrid.appendChild(card);
    });
  }

  // وظائف فتح وإغلاق النافذة المنبثقة
  goldCard.onclick = function() {
    goldModal.style.display = 'block';
    renderSurveysList(); 
    renderTasks();
  };
  closeModal.onclick = function() {
    goldModal.style.display = 'none';
  };

  // وظيفة نموذج الاتصال
  document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    alert('تم إرسال رسالتك بنجاح!');
    this.reset();
  });
</script>

</body>
</html>
