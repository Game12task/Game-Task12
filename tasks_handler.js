// =======================================================
// tasks_handler.js - Ù…Ù„Ù Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ø¨Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ (30 Ø³Ø¤Ø§Ù„) - (Ù…ÙØ¹ÙØ¯Ù‘ÙÙ„)
// =======================================================

// -------------------------------------------------------
// 1. Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù‡Ø§Ù… (Ø§Ù„Ù€ 30 Ø³Ø¤Ø§Ù„ ÙƒØ§Ù…Ù„Ø©)
// -------------------------------------------------------
const ALL_TASKS_POOL = [
    // Ø§Ù„Ù‚ÙŠÙ…Ø©: [ID, Ø§Ù„ÙØ¦Ø©, Ø§Ù„Ø³Ø¤Ø§Ù„, Ø§Ù„Ø®ÙŠØ§Ø±1, Ø§Ù„Ø®ÙŠØ§Ø±2, Ø§Ù„Ø®ÙŠØ§Ø±3, Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©]
    ["Q001", "Ø¯ÙŠÙ†ÙŠ", "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ Ø³Ù…ÙŠØª Ø¨Ø§Ø³Ù… Ø¥Ø­Ø¯Ù‰ Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ø­ÙŠØ© ÙˆØªØ¹ØªØ¨Ø± Ù…Ù† Ù‚ØµØ§Ø± Ø§Ù„Ø³ÙˆØ±ØŸ", "Ø³ÙˆØ±Ø© Ø§Ù„Ù†Ø­Ù„", "Ø³ÙˆØ±Ø© Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª", "Ø³ÙˆØ±Ø© Ø§Ù„ÙÙŠÙ„", "Ø³ÙˆØ±Ø© Ø§Ù„ÙÙŠÙ„"],
    ["Q002", "Ø¯ÙŠÙ†ÙŠ", "ÙƒÙ… Ù…Ø±Ø© Ø°ÙƒØ± Ø§Ø³Ù… 'Ù…Ø­Ù…Ø¯' ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… ØµØ±ÙŠØ­Ø§Ù‹ ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", "Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª", "Ø£Ø±Ø¨Ø¹ Ù…Ø±Ø§Øª", "Ø®Ù…Ø³ Ù…Ø±Ø§Øª", "Ø£Ø±Ø¨Ø¹ Ù…Ø±Ø§Øª"],
    ["Q003", "Ø¯ÙŠÙ†ÙŠ", "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø±ÙƒÙ† Ø§Ù„Ø«Ø§Ù„Ø« Ù…Ù† Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ", "Ø§Ù„Ø²ÙƒØ§Ø©", "Ø§Ù„ØµÙˆÙ…", "Ø§Ù„Ø­Ø¬", "Ø§Ù„Ø²ÙƒØ§Ø©"],
    ["Q004", "Ø¯ÙŠÙ†ÙŠ", "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù†Ø¨ÙŠ Ø§Ù„Ø°ÙŠ Ø§Ø¨ØªÙ„Ø¹Ù‡ Ø§Ù„Ø­ÙˆØªØŸ", "Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "ÙŠÙˆØ³Ù", "ÙŠÙˆÙ†Ø³", "ÙŠÙˆÙ†Ø³"],
    ["Q005", "Ø¯ÙŠÙ†ÙŠ", "Ù…Ø§ Ø§Ø³Ù… Ø£ÙˆÙ„ ØºØ²ÙˆØ© Ù„Ù„Ù…Ø³Ù„Ù…ÙŠÙ†ØŸ", "Ø£Ø­Ø¯", "Ø¨Ø¯Ø±", "Ø§Ù„Ø®Ù†Ø¯Ù‚", "Ø¨Ø¯Ø±"],
    ["Q006", "Ø¯ÙŠÙ†ÙŠ", "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø°ÙŠ Ø®Ù„Ù‚Ù‡ Ø§Ù„Ù„Ù‡ ÙˆØ§Ø³ØªØ¹Ø¸Ù…Ù‡ØŸ", "Ø§Ù„Ø¬Ù†Ø©", "Ø§Ù„Ù†Ø§Ø±", "Ø§Ù„Ø¹Ø±Ø´", "Ø§Ù„Ø¹Ø±Ø´"],
    ["Q007", "Ø¯ÙŠÙ†ÙŠ", "Ù…Ø§ Ù‡ÙŠ Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„ØªÙŠ Ù„ÙŠØ³ Ù„Ù‡Ø§ Ø£Ø°Ø§Ù† ÙˆÙ„Ø§ Ø¥Ù‚Ø§Ù…Ø©ØŸ", "ØµÙ„Ø§Ø© Ø§Ù„ÙƒØ³ÙˆÙ", "ØµÙ„Ø§Ø© Ø§Ù„Ø¬Ù†Ø§Ø²Ø©", "ØµÙ„Ø§Ø© Ø§Ù„Ø§Ø³ØªØ³Ù‚Ø§Ø¡", "ØµÙ„Ø§Ø© Ø§Ù„Ø¬Ù†Ø§Ø²Ø©"],
    ["Q008", "Ø¯ÙŠÙ†ÙŠ", "Ù…Ø§ Ù‡Ùˆ Ø£ÙˆÙ„ Ø´Ù‡Ø± ÙÙŠ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù‡Ø¬Ø±ÙŠØŸ", "ØµÙØ±", "Ù…Ø­Ø±Ù…", "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„", "Ù…Ø­Ø±Ù…"],
    ["Q009", "Ø¯ÙŠÙ†ÙŠ", "Ù…Ø§ Ù‡ÙŠ ÙƒÙ†ÙŠØ© Ø§Ù„Ù†Ø¨ÙŠ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…ØŸ", "Ø£Ø¨Ùˆ Ø§Ù„Ù‚Ø§Ø³Ù…", "Ø£Ø¨Ùˆ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…", "Ø£Ø¨Ùˆ Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡", "Ø£Ø¨Ùˆ Ø§Ù„Ù‚Ø§Ø³Ù…"],
    ["Q010", "Ø¯ÙŠÙ†ÙŠ", "Ù…Ù† Ù‡Ù… 'Ø£Ù‡Ù„ Ø§Ù„ÙƒÙ‡Ù'ØŸ", "Ø³Ø¨Ø¹Ø© ÙˆØ«Ø§Ù…Ù†Ù‡Ù… ÙƒÙ„Ø¨Ù‡Ù…", "Ø«Ù…Ø§Ù†ÙŠØ© ÙˆØªØ§Ø³Ø¹Ù‡Ù… ÙƒÙ„Ø¨Ù‡Ù…", "ØªØ³Ø¹Ø© ÙˆØ¹Ø§Ø´Ø±Ù‡Ù… ÙƒÙ„Ø¨Ù‡Ù…", "Ø³Ø¨Ø¹Ø© ÙˆØ«Ø§Ù…Ù†Ù‡Ù… ÙƒÙ„Ø¨Ù‡Ù…"],
    ["Q011", "Ø«Ù‚Ø§ÙÙŠ", "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ÙƒÙ†Ø¯Ø§ØŸ", "ÙØ§Ù†ÙƒÙˆÙØ±", "Ø£ÙˆØªØ§ÙˆØ§", "ØªÙˆØ±Ù†ØªÙˆ", "Ø£ÙˆØªØ§ÙˆØ§"],
    ["Q012", "Ø«Ù‚Ø§ÙÙŠ", "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© Ù„Ù‚ÙŠØ§Ø³ Ø´Ø¯Ø© Ø§Ù„ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ", "Ø§Ù„ÙˆØ§Ø· (Watt)", "Ø§Ù„Ø£Ù…Ø¨ÙŠØ± (Ampere)", "Ø§Ù„ÙÙˆÙ„Øª (Volt)", "Ø§Ù„Ø£Ù…Ø¨ÙŠØ± (Ampere)"],
    ["Q013", "Ø«Ù‚Ø§ÙÙŠ", "Ù…Ø§ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", "Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„", "Ù†Ù‡Ø± Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†", "Ù†Ù‡Ø± Ø§Ù„Ù…Ø³ÙŠØ³ÙŠØ¨ÙŠ", "Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„"],
    ["Q014", "Ø«Ù‚Ø§ÙÙŠ", "Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ù„Ù Ø±ÙˆØ§ÙŠØ© 'Ø§Ù„Ø­Ø±Ø¨ ÙˆØ§Ù„Ø³Ù„Ø§Ù…'ØŸ", "Ø¯ÙˆØ³ØªÙˆÙŠÙØ³ÙƒÙŠ", "ØªÙˆÙ„Ø³ØªÙˆÙŠ", "ØªØ´ÙŠØ®ÙˆÙ", "ØªÙˆÙ„Ø³ØªÙˆÙŠ"],
    ["Q015", "Ø«Ù‚Ø§ÙÙŠ", "Ù…Ø§ Ù‡ÙŠ Ø£ÙƒØ¨Ø± Ø¯ÙˆÙ„Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ù…Ù† Ø­ÙŠØ« Ø§Ù„Ù…Ø³Ø§Ø­Ø©ØŸ", "Ø§Ù„ØµÙŠÙ†", "ÙƒÙ†Ø¯Ø§", "Ø±ÙˆØ³ÙŠØ§", "Ø±ÙˆØ³ÙŠØ§"],
    ["Q016", "Ø«Ù‚Ø§ÙÙŠ", "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ Ø±Ù…Ø²Ù‡ (Au)ØŸ", "Ø§Ù„ÙØ¶Ø©", "Ø§Ù„Ø°Ù‡Ø¨", "Ø§Ù„Ù†Ø­Ø§Ø³", "Ø§Ù„Ø°Ù‡Ø¨"],
    ["Q017", "Ø«Ù‚Ø§ÙÙŠ", "ÙƒÙ… Ø¹Ø¯Ø¯ Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ", "Ø®Ù…Ø³", "Ø³Øª", "Ø³Ø¨Ø¹", "Ø³Ø¨Ø¹"],
    ["Q018", "Ø«Ù‚Ø§ÙÙŠ", "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø±Ø³Ù…ÙŠØ© Ù„Ù„ÙŠØ§Ø¨Ø§Ù†ØŸ", "Ø§Ù„ÙˆÙˆÙ†", "Ø§Ù„ÙŠÙ†", "Ø§Ù„ÙŠÙˆØ§Ù†", "Ø§Ù„ÙŠÙ†"],
    ["Q019", "Ø«Ù‚Ø§ÙÙŠ", "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ", "22", "24", "26", "24"],
    ["Q020", "Ø«Ù‚Ø§ÙÙŠ", "Ù…Ø§ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠ Ø¹Ù„Ù‰ ÙˆØ¬Ù‡ Ø§Ù„Ø£Ø±Ø¶ØŸ", "Ø§Ù„Ø£Ø³Ø¯", "Ø§Ù„ÙÙ‡Ø¯ Ø§Ù„ØµÙŠØ§Ø¯ (Ø§Ù„Ø´ÙŠØªØ§)", "Ø§Ù„Ù†Ù…Ø±", "Ø§Ù„ÙÙ‡Ø¯ Ø§Ù„ØµÙŠØ§Ø¯ (Ø§Ù„Ø´ÙŠØªØ§)"],
    ["Q021", "Ø±ÙŠØ§Ø¶ÙŠ", "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠÙŠÙ† ÙÙŠ ÙØ±ÙŠÙ‚ ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø© Ø§Ù„Ø°ÙŠ ÙŠÙ„Ø¹Ø¨ Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù„Ø¹Ø¨ØŸ", "Ø®Ù…Ø³Ø©", "Ø³ØªØ©", "Ø³Ø¨Ø¹Ø©", "Ø®Ù…Ø³Ø©"],
    ["Q022", "Ø±ÙŠØ§Ø¶ÙŠ", "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø¯ÙˆÙ„Ø© Ø§Ù„ØªÙŠ ÙØ§Ø²Øª Ø¨Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† ÙƒØ¤ÙˆØ³ Ø§Ù„Ø¹Ø§Ù„Ù… Ù„ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ", "Ø£Ù„Ù…Ø§Ù†ÙŠØ§", "Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„", "Ø¥ÙŠØ·Ø§Ù„ÙŠØ§", "Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„"],
    ["Q023", "Ø±ÙŠØ§Ø¶ÙŠ", "Ù…Ø§ Ù‡Ùˆ Ø§Ø³Ù… Ø§Ù„Ù…Ø¶Ù…Ø§Ø± Ø§Ù„Ø°ÙŠ ØªÙÙ‚Ø§Ù… Ø¹Ù„ÙŠÙ‡ Ø³Ø¨Ø§Ù‚Ø§Øª Ø§Ù„ÙÙˆØ±Ù…ÙˆÙ„Ø§ 1 ÙÙŠ Ù…Ø¯ÙŠÙ†Ø© Ù…ÙˆÙ†Ø§ÙƒÙˆØŸ", "Ø³ÙŠÙ„ÙØ±Ø³ØªÙˆÙ†", "Ù…ÙˆÙ†ØªÙŠ ÙƒØ§Ø±Ù„Ùˆ", "Ø³Ø¨Ø§-ÙØ±Ø§Ù†ÙƒÙˆØ±Ø´Ø§Ù†", "Ù…ÙˆÙ†ØªÙŠ ÙƒØ§Ø±Ù„Ùˆ"],
    ["Q024", "Ø±ÙŠØ§Ø¶ÙŠ", "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ù…Ù„Ù‚Ø¨ Ø¨Ù€ 'Ø§Ù„Ø¬ÙˆÙ‡Ø±Ø© Ø§Ù„Ø³ÙˆØ¯Ø§Ø¡'ØŸ", "Ø¨ÙŠÙ„ÙŠÙ‡", "Ù…Ø§Ø±Ø§Ø¯ÙˆÙ†Ø§", "ÙŠÙˆÙ‡Ø§Ù† ÙƒØ±ÙˆÙŠÙ", "Ø¨ÙŠÙ„ÙŠÙ‡"],
    ["Q025", "Ø±ÙŠØ§Ø¶ÙŠ", "Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶Ø© Ø§Ù„ØªÙŠ ØªØ³ØªØ®Ø¯Ù… ÙÙŠÙ‡Ø§ Ø§Ù„ÙƒØ±Ø§Øª Ø§Ù„Ù…ØµÙ†ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø±ÙŠØ´ (Ø§Ù„Ø±ÙŠØ´Ø© Ø§Ù„Ø·Ø§Ø¦Ø±Ø©)ØŸ", "Ø§Ù„ØªÙ†Ø³", "Ø§Ù„Ø¨Ø§Ø¯Ù…Ù†ØªÙˆÙ†", "Ø§Ù„Ø³ÙƒÙˆØ§Ø´", "Ø§Ù„Ø¨Ø§Ø¯Ù…Ù†ØªÙˆÙ†"],
    ["Q026", "Ø±ÙŠØ§Ø¶ÙŠ", "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´ÙˆØ§Ø· ÙÙŠ Ù…Ø¨Ø§Ø±Ø§Ø© ÙƒØ±Ø© Ø§Ù„ÙŠØ¯ØŸ", "Ø´ÙˆØ·Ø§Ù†", "Ø«Ù„Ø§Ø«Ø© Ø£Ø´ÙˆØ§Ø·", "Ø£Ø±Ø¨Ø¹Ø© Ø£Ø´ÙˆØ§Ø·", "Ø´ÙˆØ·Ø§Ù†"],
    ["Q027", "Ø±ÙŠØ§Ø¶ÙŠ", "Ù…Ø§ Ù‡ÙŠ Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ÙŠÙˆÙ†Ø§Ù† Ø§Ù„ØªÙŠ Ø§Ø³ØªØ¶Ø§ÙØª Ø£ÙˆÙ„ Ø£Ù„Ø¹Ø§Ø¨ Ø£ÙˆÙ„Ù…Ø¨ÙŠØ© Ø­Ø¯ÙŠØ«Ø©ØŸ", "Ø£Ø«ÙŠÙ†Ø§", "Ø±ÙˆÙ…Ø§", "Ø¨Ø§Ø±ÙŠØ³", "Ø£Ø«ÙŠÙ†Ø§"],
    ["Q028", "Ø±ÙŠØ§Ø¶ÙŠ", "Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ Ù„ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ø§Ù„Ø±Ø³Ù…ÙŠØ©ØŸ", "350-400 Ø¬Ø±Ø§Ù…", "400-450 Ø¬Ø±Ø§Ù…", "450-500 Ø¬Ø±Ø§Ù…", "400-450 Ø¬Ø±Ø§Ù…"],
    ["Q029", "Ø±ÙŠØ§Ø¶ÙŠ", "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø¶Ø±Ø¨ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ù„Ø¹Ø¨Ø© Ø§Ù„Ù‡ÙˆÙƒÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù„ÙŠØ¯ØŸ", "Stick", "Racket", "Bat", "Stick"],
    ["Q030", "Ø±ÙŠØ§Ø¶ÙŠ", "ÙƒÙ… Ø¯Ù‚ÙŠÙ‚Ø© Ù‡ÙŠ Ù…Ø¯Ø© Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø© Ø¨ÙŠÙ† Ø´ÙˆØ·ÙŠ Ù…Ø¨Ø§Ø±Ø§Ø© ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ", "10 Ø¯Ù‚Ø§Ø¦Ù‚", "15 Ø¯Ù‚ÙŠÙ‚Ø©", "20 Ø¯Ù‚ÙŠÙ‚Ø©", "15 Ø¯Ù‚ÙŠÙ‚Ø©"],
];

// -------------------------------------------------------
// 2. Ø®Ø±Ø§Ø¦Ø· Ø§Ù„ØªØ¯ÙˆÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ (4 Ø£ÙŠØ§Ù… - Ù„ÙƒÙ†Ù†Ø§ Ù†Ø³ØªØ®Ø¯Ù… Ø¯ÙˆØ±ØªÙŠÙ† Day1 Ùˆ Day2 Ø­Ø§Ù„ÙŠØ§Ù‹)
// -------------------------------------------------------
const ROTATION_MAPS = {
    // Ø§Ù„Ø£Ø­Ø¯ØŒ Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ØŒ Ø§Ù„Ø®Ù…ÙŠØ³ (Ø§Ù„ÙŠÙˆÙ… 1) - Ø£Ø³Ø¦Ù„Ø© ÙØ±Ø¯ÙŠØ©
    Day1: {
        Ø¯ÙŠÙ†ÙŠ: ["Q001", "Q003", "Q005", "Q007", "Q009"], 
        Ø«Ù‚Ø§ÙÙŠ: ["Q011", "Q013", "Q015", "Q017", "Q019"], 
        Ø±ÙŠØ§Ø¶ÙŠ: ["Q021", "Q023", "Q025", "Q027", "Q029"], 
    },
    // Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†ØŒ Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ØŒ Ø§Ù„Ø¬Ù…Ø¹Ø© (Ø§Ù„ÙŠÙˆÙ… 2) - Ø£Ø³Ø¦Ù„Ø© Ø²ÙˆØ¬ÙŠØ©
    Day2: {
        Ø¯ÙŠÙ†ÙŠ: ["Q002", "Q004", "Q006", "Q008", "Q010"], 
        Ø«Ù‚Ø§ÙÙŠ: ["Q012", "Q014", "Q016", "Q018", "Q020"], 
        Ø±ÙŠØ§Ø¶ÙŠ: ["Q022", "Q024", "Q026", "Q028", "Q030"], 
    },
};

// -------------------------------------------------------
// 3. Ø¯Ø§Ù„Ø© ØªØ­Ø¯ÙŠØ¯ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙŠÙˆÙ…
// -------------------------------------------------------
function getTodayRotationKey() {
    const today = new Date();
    const rotationCycleLength = 2; // ØªØ¯ÙˆÙŠØ± Ø¨ÙŠÙ† Day1 Ùˆ Day2 ÙÙ‚Ø·
    const startDate = new Date('2025-01-01'); // ØªØ§Ø±ÙŠØ® Ø«Ø§Ø¨Øª Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø¯
    const diffTime = Math.abs(today - startDate);
    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
    const rotationIndex = (diffDays % rotationCycleLength) + 1; 
    
    return `Day${rotationIndex}`;
}

// -------------------------------------------------------
// 4. Ø¯Ø§Ù„Ø© Ø¬Ù„Ø¨ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù„ÙØ¦Ø© Ù…Ø¹ÙŠÙ†Ø©
// -------------------------------------------------------
function getDailyTasksForCategory(category) {
    const rotationKey = getTodayRotationKey();
    const todayTaskIDs = ROTATION_MAPS[rotationKey] ? ROTATION_MAPS[rotationKey][category] || [] : [];
    
    // Ø¬Ù„Ø¨ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„ÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø£Ø³Ø¦Ù„Ø©
    const dailyTasks = todayTaskIDs.map(id => {
        const taskData = ALL_TASKS_POOL.find(task => task[0] === id);
        return taskData ? {
            id: taskData[0],
            category: taskData[1],
            question: taskData[2],
            options: [taskData[3], taskData[4], taskData[5]],
            answer: taskData[6]
        } : null;
    }).filter(task => task !== null); 
    
    return dailyTasks;
}

// -------------------------------------------------------
// 5. Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ø³Ø§Ø¨Ù‚ (Ù…Ù†Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„)
// -------------------------------------------------------
function isTaskCompleted(taskId) {
    // Ù†ÙØªØ±Ø¶ Ø£Ù† ÙƒÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø¯ÙŠÙ‡ Ù…ÙØ¹Ø±Ù ÙØ±ÙŠØ¯
    let userId = localStorage.getItem('user_id');
    if (!userId) {
        // Ø¥Ù†Ø´Ø§Ø¡ Ù…ÙØ¹Ø±Ù Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
        userId = 'user_' + Math.random().toString(36).substring(2, 9);
        localStorage.setItem('user_id', userId);
    }

    const completedTasks = JSON.parse(localStorage.getItem(`completed_tasks_${userId}`) || '{}');

    return completedTasks[taskId] === true;
}

// -------------------------------------------------------
// 6. Ø¯Ø§Ù„Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² (Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©)
// -------------------------------------------------------
function recordTaskCompletion(taskId) {
    const userId = localStorage.getItem('user_id');
    if (!userId) return;

    const completedTasks = JSON.parse(localStorage.getItem(`completed_tasks_${userId}`) || '{}');
    completedTasks[taskId] = true;
    localStorage.setItem(`completed_tasks_${userId}`, JSON.stringify(completedTasks));

    // Ù„Ø§Ø­Ù‚Ø§Ù‹: Ù‡Ù†Ø§ ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ø§Ù„Ù†Ù‚Ø§Ø· Ø¥Ù„Ù‰ Firebase
}

// -------------------------------------------------------
// 7. Ø¯Ø§Ù„Ø© Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù… (ØªØ³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„ØµÙØ­Ø© HTML Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©) - Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ÙØ¹ÙØ¯Ù‘ÙÙ„
// -------------------------------------------------------
function renderTaskList(category) {
    const tasksListContainer = document.getElementById('tasks-list-container');
    
    // **ØªØ±Ø¬Ù…Ø© Ø§Ù„ÙØ¦Ø© Ù…Ù† Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**
    let targetCategory = '';
    const categoryMap = {
        'religious': 'Ø¯ÙŠÙ†ÙŠ',
        'sports': 'Ø±ÙŠØ§Ø¶ÙŠ',
        'culture': 'Ø«Ù‚Ø§ÙÙŠ'
    };
    targetCategory = categoryMap[category] || ''; 

    const dailyTasks = getDailyTasksForCategory(targetCategory);
    
    if (!tasksListContainer) return;
    
    // ØªØµØ­ÙŠØ­ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø© Ù„ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø§Ù„ØªØ±Ø¬Ù…Ø©
    const categoryNames = {
        'religious': 'Ø§Ù„Ø¯ÙŠÙ†ÙŠØ©',
        'sports': 'Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©',
        'culture': 'Ø§Ù„Ø«Ù‚Ø§ÙÙŠØ©'
    };
    const categoryTitle = categoryNames[category] || 'Ø§Ù„Ù…Ù‡Ø§Ù…';
    document.getElementById('page-title').textContent = `Ù…Ù‡Ø§Ù… Ø§Ù„ÙŠÙˆÙ… ${categoryTitle} (5 Ø£Ø³Ø¦Ù„Ø©)`;


    tasksListContainer.innerHTML = ''; 

    if (dailyTasks.length === 0) {
        tasksListContainer.innerHTML = `<p style="text-align: center; color: #f44336;">Ø¹Ø°Ø±Ø§Ù‹ØŒ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù… ${targetCategory} Ø¬Ø¯ÙŠØ¯Ø© Ù…ØªØ§Ø­Ø© Ø§Ù„ÙŠÙˆÙ….</p>`;
        return;
    }

    dailyTasks.forEach((task, index) => {
        const isCompleted = isTaskCompleted(task.id);
        const taskItem = document.createElement('div');
        taskItem.className = 'task-item-card';
        
        let statusText = isCompleted ? 'âœ… Ù…ÙƒØªÙ…Ù„' : 'ğŸŸ¢ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†';
        let statusClass = isCompleted ? 'completed' : 'available';
        
        taskItem.innerHTML = `
            <h3>Ø§Ù„ØªØ­Ø¯ÙŠ Ø±Ù‚Ù… ${index + 1}: ${task.category}</h3>
            <p>${task.question.substring(0, 50)}...</p>
            <span class="status ${statusClass}">${statusText}</span>
        `;
        
        if (!isCompleted) {
            // Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø°ÙŠ Ø³ÙŠØ£Ø®Ø° Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø­Ù„ Ø§Ù„Ø³Ø¤Ø§Ù„ (Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©)
            taskItem.onclick = () => { 
                window.location.href = `dynamic_task_question.html?task_id=${task.id}`; 
            };
            taskItem.style.cursor = 'pointer';
        } else {
             taskItem.style.opacity = '0.5'; 
        }

        tasksListContainer.appendChild(taskItem);
    });
    }
